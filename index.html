<!DOCTYPE html>
<html>

<head>
    <title>
        Pixel
    </title>
    <style>
        * {
            margin: 20px 0 20px 0;
            padding: 0 0 0 0;
            font-family: mostra;
        }
        
        .main {
            margin: auto;
            background: rgb(240, 230, 230);
            box-shadow: rgba(15, 15, 15, 0.4) 0px 48px 100px 0px;
            width: 800px;
            height: 500px;
            /* align-items: center; */
        }
        
        #sub {
            margin: 10px 0 0 95px;
            padding: 0 24px 0 15px;
        }
        
        table {
            position: absolute;
            margin: 85px 0 36px 220px;
            padding: 14px 0 0;
        }
        
        h2 {
            color: #211111;
            font-family: Georgia, 'Times New Roman', Times, serif;
        }
        
        span {
            color: red;
        }
        
        #p11 {
            color: red;
            float: left;
            margin: 0 0 0 10px;
        }
        
        #p111 {
            color: rgb(44, 38, 41);
            /* border: 1px solid;
            background-color: antiquewhite; */
        }
        
        img {
            margin: 13px 0 0 0;
            padding: 0 0 0 0;
            border: 1px solid grey;
        }
    </style>


</head>

<body>
    <div class="main">

        <table>
            <tr>
                <td></td>
                <td colspan="2">
                    <h2>Pixel6</h2>
                </td>

                <td></td>
            </tr>
            <tr>
                <td><label>Name:</label></td>
                <td><input type="text" name="n1" id="n1" placeholder="First and LastName"></td>
                <td colspan="2">
                    <span id="n11"></span>
                </td>
                <td></td>
            </tr>
            <tr>
                <td> <label>Email</label></td>
                <td><input type="email" name="e1" id="e1" placeholder="email123@xyz.com"></td>
                <td><span id="e11"></span></td>
                <td></td>
            </tr>
            <tr>
                <td>
                    <label>Phone No</label>
                </td>
                <td>
                    <input type="text" name="p1" id="p1" placeholder="Example (123) - 456 - 7890">
                </td>
                <td>
                    <div id="p11"></div>

                </td>
                <td>
                    <span id="p111"></span>
                </td>
            </tr>
            <tr>
                <td colspan="2"> <input type="submit" onclick="return validate()" id="sub"></td>
                <td></td>
                <td></td>

            </tr>



        </table>
    </div>


    <script>
        document.getElementById('e1').addEventListener('blur', function() {
            var b = document.getElementById("e1").value;
            if (b == "") {
                document.getElementById("e11").innerHTML = "Enter mail";
                return false;
            }
            const regex = /^([\.\_a-zA-Z0-9]+)@([a-zA-Z]+)\.([a-zA-Z]){2,8}$/;
            const regex2 = /^([\.\_a-zA-Z0-9]+)@([a-zA-Z]+)\.([a-zA-Z]){2,3}\.[a-zA-Z]{1,3}$/;

            if (regex.test(b) || regex2.test(b)) {
                document.getElementById("e11").innerHTML = "";
            } else {
                document.getElementById("e11").innerHTML = "Invalid";
                return false;
            }
        });

        document.getElementById('n1').addEventListener('blur', function() {
            var a = document.getElementById("n1").value;
            // var ak = a.split(" ");
            // var length = ak.length;
            // var last = ak[length - 1];
            // console.log(last);
            // document.getElementById("n1").value = ak[length - 1].replace(" ", "");
            var i, j;
            var f = 1;

            if (a == "") {
                document.getElementById("n11").innerHTML = "Please enter name";
                return false;
            }
            for (i = 0; i < a.length; i++) {
                if (!((a.charCodeAt(i) >= 65 && a.charCodeAt(i) <= 90) || (a.charCodeAt(i) >= 97 && a.charCodeAt(i) <= 122) || (a.charCodeAt(i) == 32))) {
                    f = 0;
                    break;
                }

            }
            if (f == 0) {
                document.getElementById("n11").innerHTML = "Only Characters allowed";
                return false;
            }


            var ak = a.split(" ");
            // console.log(ak.length);
            // console.log(ak[0].length);
            // console.log(ak[1].length);

            if (ak.length < 2) {
                document.getElementById("n11").innerHTML = "Min two words req";
                return false;
            }
            for (i = 0; i < ak.length; i++) {
                if (ak[i].length < 4) {
                    document.getElementById("n11").innerHTML = "Names should have min 4 letters for each Word";
                    return false;
                }
            }
            document.getElementById("n11").innerHTML = "";

        });

        document.getElementById('n1').addEventListener('keyup', function() {
            var name = document.getElementById('n1').value;
            var n_name = name.split(" ");

            document.getElementById('n1').value = name.replace(/\s\s+/g, ' ');
        });



        document.getElementById('p1').addEventListener('keyup', function() {
            var x = document.getElementById('p1').value;
            var y = x.substring(1, 4);
            var z = x.substring(8, 11);
            var comp = "India";
            if (y >= 621 && y <= 799) {
                document.getElementById("p11").innerHTML = "<img src='jio.jpg' height=\'30px'\>";
                comp = "jio";
            } else if (y >= 801 && y <= 920) {
                document.getElementById("p11").innerHTML = "<img src='idea.png' height=\'30px'\>";
                comp = "idea";
            } else if (y >= 921 && y <= 999) {
                document.getElementById("p11").innerHTML = "<img src='vada.png' height=\'30px'\>";
                comp = "Vodafone";
            } else if (y == "") {
                document.getElementById("p11").innerHTML = "";
            } else {
                document.getElementById("p11").innerHTML = "Invalid";
                comp = 0;

            }



            if (comp == 0) {
                document.getElementById("p111").innerHTML = "";
            } else if (z >= 001 && z <= 125) {
                document.getElementById("p111").innerHTML = "Maharashtra ," + comp;
            } else if (z >= 126 && z <= 150) {
                document.getElementById("p111").innerHTML = "UP " + comp;
            } else if (z >= 151 && z <= 175) {
                document.getElementById("p111").innerHTML = "MP " + comp;
            } else if (z >= 176 && z <= 200) {
                document.getElementById("p111").innerHTML = "AP" + comp;
            } else if (z >= 201 && z <= 225) {
                document.getElementById("p111").innerHTML = "HP " + comp;
            } else if (z >= 226 && z <= 250) {
                document.getElementById("p111").innerHTML = "J&k " + comp;
            } else if (z >= 251 && z <= 275) {
                document.getElementById("p111").innerHTML = "Gujrat " + comp;
            } else if (z >= 276 && z <= 300) {
                document.getElementById("p111").innerHTML = "Goa " + comp;
            } else if (z >= 300 && z <= 325) {
                document.getElementById("p111").innerHTML = "Kerala " + comp;
            } else if (z >= 325 && z <= 350) {
                document.getElementById("p111").innerHTML = "Karnataka" + comp;
            } else if (z >= 350 && z <= 375) {
                document.getElementById("p111").innerHTML = "Punjab " + comp;
            } else if (z >= 375 && z <= 400) {
                document.getElementById("p111").innerHTML = "Bengal " + comp;
            } else if (z >= 400 && z <= 425) {
                document.getElementById("p111").innerHTML = "Tamil Nadu " + comp;
            } else if (z >= 425 && z <= 450) {
                document.getElementById("p111").innerHTML = "Telangana " + comp;
            } else if (z >= 450 && z <= 475) {
                document.getElementById("p111").innerHTML = "Haryana " + comp;
            } else if (z >= 475 && z <= 500) {
                document.getElementById("p111").innerHTML = "Bihar " + comp;
            } else if (z >= 500 && z <= 525) {
                document.getElementById("p111").innerHTML = "Assam " + comp;
            } else if (z >= 525 && z <= 550) {
                document.getElementById("p111").innerHTML = "Rajasthan " + comp;
            } else if (z >= 550 && z <= 575) {
                document.getElementById("p111").innerHTML = "Tripura " + comp;
            } else if (z >= 575 && z <= 600) {
                document.getElementById("p111").innerHTML = "Odisha" + comp;
            } else if (z >= 600 && z <= 625) {
                document.getElementById("p111").innerHTML = "Chatisgarg " + comp;
            } else if (z >= 625 && z <= 650) {
                document.getElementById("p111").innerHTML = "Delhi " + comp;
            } else if (z >= 650 && z <= 675) {
                document.getElementById("p111").innerHTML = "Nagaland " + comp;
            } else if (z >= 675 && z <= 700) {
                document.getElementById("p111").innerHTML = "Arunachal Pradesh " + comp;
            } else if (z >= 700 && z <= 725) {
                document.getElementById("p111").innerHTML = "Sikkim " + comp;
            } else if (z >= 725 && z <= 750) {
                document.getElementById("p111").innerHTML = "Manipur " + comp;
            } else if (z >= 750 && z <= 775) {
                document.getElementById("p111").innerHTML = "Mizoram " + comp;
            } else if (z >= 775 && z <= 800) {
                document.getElementById("p111").innerHTML = "Meghalaya " + comp;
            } else if (z >= 800 && z <= 825) {
                document.getElementById("p111").innerHTML = "Andaman & Nicobar " + comp;
            } else if (z >= 825 && z <= 850) {
                document.getElementById("p111").innerHTML = "Chandigarh " + comp;
            } else if (z >= 850 && z <= 875) {
                document.getElementById("p111").innerHTML = "DNH & DD " + comp;
            } else if (z >= 875 && z <= 900) {
                document.getElementById("p111").innerHTML = "Ladakh " + comp;
            } else if (z >= 900 && z <= 925) {
                document.getElementById("p111").innerHTML = "Lakshadweep " + comp;
            } else if (z >= 925 && z <= 999) {
                document.getElementById("p111").innerHTML = "Punducherry " + comp;
            }


        });


        document.getElementById('p1').addEventListener('keyup', function() {
            var phoneNumber = document.getElementById('p1');
            // var charCode = (evt.which) ? evt.which : evt.keyCode;

            phoneNumber.value = phoneFormat(phoneNumber.value);
        });

        function phoneFormat(input) {
            // Strip all characters from the input except digits

            input = input.replace(/\D/g, '');

            // Trim the remaining input to ten characters, to preserve phone number format
            input = input.substring(0, 10);

            // Based upon the length of the string, we add formatting as necessary
            var size = input.length;
            if (size == 0) {
                input = input;
            } else if (size < 4) {
                input = '(' + input;
            } else if (size < 7) {
                input = '(' + input.substring(0, 3) + ') - ' + input.substring(3, 6);
            } else {
                input = '(' + input.substring(0, 3) + ') - ' + input.substring(3, 6) + ' - ' + input.substring(6, 10);
            }
            return input;
        }

        function validate() {
            var a = document.getElementById("n1").value;
            var b = document.getElementById("e1").value;
            var c = document.getElementById("p1").value;
            var company = c.substring(1, 4);
            var state = c.substring(6, 9);
            var i, j;
            var f = 1;
            if (a == "") {
                document.getElementById("n11").innerHTML = "Please enter name";
                return false;
            }
            for (i = 0; i < a.length; i++) {
                if (!((a.charCodeAt(i) >= 65 && a.charCodeAt(i) <= 90) || (a.charCodeAt(i) >= 97 && a.charCodeAt(i) <= 122) || (a.charCodeAt(i) == 32))) {
                    f = 0;
                    break;
                }

            }
            if (f == 0) {
                document.getElementById("n11").innerHTML = "Only Characters allowed";
                return false;
            }


            var ak = a.split(" ");
            // console.log(ak.length);
            // console.log(ak[0].length);
            // console.log(ak[1].length);

            if (ak.length < 2) {
                document.getElementById("n11").innerHTML = "Min two words req";
                return false;
            }
            for (i = 0; i < ak.length; i++) {
                if (ak[i].length < 4) {
                    document.getElementById("n11").innerHTML = "Names should have min 4 letters for each Word";
                    return false;
                }
            }
            document.getElementById("n11").innerHTML = "";

            f = 0;

            if (b == "") {
                document.getElementById("e11").innerHTML = "Enter mail";
                return false;
            }
            const regex = /^([\.\_a-zA-Z0-9]+)@([a-zA-Z]+)\.([a-zA-Z]){2,8}$/;
            const regex2 = /^([\.\_a-zA-Z0-9]+)@([a-zA-Z]+)\.([a-zA-Z]){2,3}\.[a-zA-Z]{1,3}$/;

            if (regex.test(b) || regex2.test(b)) {
                document.getElementById("e11").innerHTML = "";
            } else {
                document.getElementById("e11").innerHTML = "Invalid";
                return false;
            }
            // console.log(b);
            // console.log(company);
            // console.log(c);
            // console.log(state);
            if (c == "") {
                document.getElementById("p11").innerHTML = "enter phone number";
                return false;
            }
            if (!(((company >= 621 && company <= 799) || (company >= 801 && company <= 920) || (company >= 921 && company <= 999)))) {
                document.getElementById("p11").innerHTML = "Invalid";
                document.getElementById("p111").innerHTML = "";
                return false;
            }
            if (!(c.length == 18)) {
                // document.getElementById("p11").innerHTML = "Length should be 10";
                return false;
            } else {
                document.getElementById("p11").innerHTML = "";
            }

            let numbero = '1234567890';
            let otp = '';
            for (var k = 0; k < 4; k++) {
                otp += numbero[Math.floor(Math.random() * 10)];
            }

            var x = a.split(" ");

            localStorage.setItem("namevalue", x[0]);
            localStorage.setItem("phonevalue", c);
            localStorage.setItem("otpvalue", otp);

            document.location.href = "index2.html";

        }
    </script>



</body>

</html>